"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SubtleCryptoProvider = exports.NodeCryptoProvider = void 0;
exports.createCryptoProvider = createCryptoProvider;
const detect_platform_1 = require("../utils/detect-platform");
const node_crypto_1 = require("./node-crypto");
const subtle_crypto_1 = require("./subtle-crypto");
/**
 * Creates an appropriate crypto provider based on the runtime environment
 * @param forceProvider - Force a specific provider type, otherwise auto-detect
 * @returns CryptoProvider instance for the current or specified environment
 */
function createCryptoProvider(forceProvider) {
    if (forceProvider === 'node') {
        return new node_crypto_1.NodeCryptoProvider();
    }
    else if (forceProvider === 'browser') {
        return new subtle_crypto_1.SubtleCryptoProvider();
    }
    else {
        return (0, detect_platform_1.isRunningInBrowser)() ? new subtle_crypto_1.SubtleCryptoProvider() : new node_crypto_1.NodeCryptoProvider();
    }
}
var node_crypto_2 = require("./node-crypto");
Object.defineProperty(exports, "NodeCryptoProvider", { enumerable: true, get: function () { return node_crypto_2.NodeCryptoProvider; } });
var subtle_crypto_2 = require("./subtle-crypto");
Object.defineProperty(exports, "SubtleCryptoProvider", { enumerable: true, get: function () { return subtle_crypto_2.SubtleCryptoProvider; } });
